<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>즐겨찾기 | Restaurant Search</title>
  <link rel="stylesheet" href="./stylesheets/styles.css">
</head>
<body>
  <%- include('../partials/header') %>

  <main class="favorites-container">
    <section class="favorites-section">
      <h1 class="favorites-title">내 즐겨찾기 목록</h1>
      <% if (favorites && favorites.length > 0) { %>
        <div class="favorites-list">
          <% favorites.forEach(function(restaurant) { %>
            <div class="favorites-card">
              <a href="/details/<%= restaurant.id %>" class="favorites-link">
                <img src="<%= restaurant.imageUrl %>" alt="<%= restaurant.name %>" class="favorites-image">
                <div class="favorites-info">
                  <h2 class="favorites-name"><%= restaurant.name %></h2>
                  <p class="favorites-rating">평점: <%= restaurant.rating %></p>
                </div>
              </a>
              <form action="/favorites" method="post" class="favorites-remove-form">
                <input type="hidden" name="restaurantId" value="<%= restaurant.id %>">
                <button type="submit" name="action" value="remove" class="favorites-remove-button">즐겨찾기 해제</button>
              </form>
            </div>
          <% }) %>
        </div>
      <% } else { %>
        <p class="favorites-empty">즐겨찾기한 맛집이 없습니다. 마음에 드는 맛집을 찾아 즐겨찾기에 추가해보세요!</p>
      <% } %>
    </section>
  </main>

  <%- include('../partials/footer') %>
</body>
</html>
