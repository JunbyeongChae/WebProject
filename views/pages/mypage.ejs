<!-- views/pages/mypage.ejs -->
<%- include('../partials/header') %>

<!-- CSS 파일 import -->
<link rel="stylesheet" href="/stylesheets/style.css">

<div id="content-wrapper" class="container my-5">
  <div class="row">
    <!-- 왼쪽 칸: 회원정보 수정 -->
    <div class="col-md-6">
      <h4 class="mb-4" style= "position: relative; top: 1px; left: 140px;">내 정보</h4> <!-- 제목 부분이 좀 더 위쪽으로 가도록 함 -->
      <!-- 프로필 사진 업로드 -->
      <div class="text-center mb-4">
        <!-- 프로필 이미지 -->
        <label class="d-block">
          <img src="https://placehold.co/120x120" alt="Profile Image" class="rounded-circle"
            style="width: 120px; height: 120px; object-fit: cover; cursor: pointer;" id="profilePreview">
        </label>
        <small class="form-text text-muted">Upload your profile picture</small>
        <input type="file" id="profileImage" class="form-control-file mt-2" style="display: none;">
        <div id="fileName" style="display: none;"></div> <!-- fileName 요소 추가 -->
      </div>

      <!-- 회원정보 수정 양식 -->
      <form id="infoForm">
        <div class="form-group mb-3">
          <label for="name" style="position: relative; top: 1px; left: 140px;">Name</label>
          <input type="text" class="form-control" id="name" value="" style="width: 70%; margin: 0 auto;">
        </div>
        <div class="form-group mb-3">
          <label for="email" style="position: relative; top: 1px; left: 140px;">Email</label>
          <input type="email" class="form-control" id="email" value="" style="width: 70%; margin: 0 auto;">
        </div>
        <div class="form-group mb-3">
          <label for="password" style="position: relative; top: 1px; left: 140px;">Password</label>
          <input type="password" class="form-control" id="password" value="********" style="width: 70%; margin: 0 auto;">
        </div>
        <div class="form-group mb-3">
          <label for="phone" style="position: relative; top: 1px; left: 140px;">Phone Number</label>
          <input type="text" class="form-control" id="phone" value="" style="width: 70%; margin: 0 auto;">
        </div>
        <button type="submit" class="btn btn-dark" style="width: 70%; display: block; margin: 10px auto;">Update Information</button>
      </form>
    </div>

    <!-- 오른쪽 칸: 지도 -->
    <div class="col-md-6">
      <h4>My Favorite Locations</h4>
      <div id="map" class="border rounded" style="height: 100%; background-color: #e9ecef; margin-right: 20px;" > <!-- 스크롤이 안 생기면서 지도를 최대한 길게 함 -->
        <p class="text-center my-5">Map Area</p>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>

<!-- 241224 박제성 맵 호출 및 스크립트 호출 -->
<!-- 카카오 지도 API 스크립트 -->
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=<%= javascriptKey %>&autoload=false&libraries=services"></script>
<!-- 마이페이지 전용 스크립트 -->
<script type="module" src="/javascript/mypage.js"></script>